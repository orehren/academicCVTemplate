---
title: "Data Integration"
---

# Data Integration

This template separates content from layout by fetching data from Google Sheets.

## 1. Setup Data Integration

Before you can render your CV, you must authenticate with Google Drive. The extension's pre-render script runs non-interactively, so you need to cache your credentials first.

### Authentication

Open your R console in the project directory and run:

```r
library(googledrive)
drive_auth()
```

This will open a browser window. Log in with the Google account that has access to your CV spreadsheet.

**Important:** This creates a local token.
*   **Global vs. Project:** By default, `drive_auth()` might store the token globally. For this project extension, ensure the token is available to the Quarto render process. If you are using `renv` or a project-specific library, ensure the authentication persists.

## 2. Configuration (`google-document`)

In your `.qmd` file, configure the connection:

```yaml
google-document:
  auth-email: "your.email@gmail.com" # The email you authenticated with
  document-identifier: "Name_of_Your_Sheet"
  sheets-to-load:
    - name: "Working Experiences" # Tab Name
      shortname: "working"        # ID for Shortcodes
    - name: "Skills"
      shortname: "skills"
```

## 3. Spreadsheet Structure

Your Google Sheet should have separate tabs for each section. The first row must contain **Column Headers**.

### Example: Skills (Visualized)

For the visual skills bar (using the `visualize-skills-list` function), your data **must** include a `value` column between `0.0` and `1.0`:

| area | skill | value | level |
| :--- | :--- | :--- | :--- |
| Languages | English | 1.0 | Native |
| Languages | German | 0.8 | C1 |
| Tech | R | 0.9 | Expert |

*   `area`: Used to group skills.
*   `skill`: The name of the skill.
*   `value`: Numeric (0.0 - 1.0) determining the bar length.
*   `level`: Text label (e.g., "Expert").

### Example: Working Experience

| title | location | description | start | end |
| :--- | :--- | :--- | :--- | :--- |
| Researcher | Uni X | Project Y | 2020 | 2024 |

## 4. Connecting Data to Layout

Use the `{{< cv-section >}}` shortcode to map your data to the layout.

```markdown
{{< cv-section sheet="working" func="resume-entry" >}}
```

**Note:** The `func` argument (e.g., `resume-entry`) refers to a Typst function. It does not expect specific column names. Instead, it processes the arguments passed to it in sequence. You control this sequence using the `column_order` argument in the shortcode (see **[Shortcodes](./shortcodes.qmd)**).
